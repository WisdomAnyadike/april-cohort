<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p> <span>Welcome <span id="username"></span></span>
        <button id="button1">log out</button>
    </p>

    <input type="file" id="filePicker" onchange="pickPicture(event)" accept=".png">
    <img width="100" height="100" id="image" src="" alt="" onclick="runSmth(event)">


</body>

</html>
<script>
    let userDatabaseName = localStorage.getItem("userInput")
    if (userDatabaseName) {
        username.textContent = userDatabaseName
    } else {
        alert("unauthorized user")
        window.location.href = "login.html"
    }
    console.log(userDatabaseName);


    button1.addEventListener('click', logOut)


    function logOut() {
        localStorage.removeItem('userInput')
        alert('logout successfully')
        window.location.href = "login.html"
    }


    function pickPicture(ev) {
        let inputFile = ev.target.files[0]
        let reader = new FileReader()
        if (inputFile) {
            reader.readAsDataURL(inputFile);
        }
        reader.addEventListener('load', (ev) => {
            let result = ev.target.result
            image.src = result
            console.log(result);
        })
    }

    function runSmth(ev) {
        console.log(ev.target);
    }

</script>